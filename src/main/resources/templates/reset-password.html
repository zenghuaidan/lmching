<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<div th:replace="~{head :: head(#{resetpassword.browser_title})}"></div>

<body id="body" class="en">
	<div th:replace="~{header :: header}"></div>

	<div class="full-pg pg-edge-tb">
		<form autocomplete="off" id="resetPasswordForm" method="post">
			<input type="hidden" name="resetPasswordCode" th:value="${resetPasswordCode}">
			<div class="login">
				<section class="text-effect pos">
		            <span class="input input--ruri" style="width:100%;">
		                <input class="input__field input__field--ruri" type="text" id="newPassword" name="newPassword" />
		                <label class="input__label input__label--ruri" for="newPassword">
		                    <span class="input__label-content input__label-content--ruri" th:text="#{resetpassword.new_password}"></span>
		               </label>
		            </span>
		        </section>
			    <div class="error" th:text="#{resetpassword.new_password_error}"></div>
	
		        <div class="login-bottom clearfix">
		        	<div class="lb-col2" style="float:right !important;"><a href="javascript:resetPassword();" class="ac-btn" th:inline="text">[[#{resetpassword.resetBtn}]]<i class="fa fa-chevron-right"></i></a></div>
		        </div>
			</div>
		</form>

		
	</div>
	<script th:src="@{/script/classie.js}"></script>
	<script th:src="@{/script/custom-select.js}"></script>
	<script type="text/javascript" th:inline="javascript">
		var resetPasswordUrl = [[@{/resetPassword}]]
		var loginUrl = [[@{/login}]]
		$("div.error").hide();
		/*<![CDATA[ */
			function resetPassword() {
	            $.post(resetPasswordUrl, $("#resetPasswordForm").serialize(), function (data) {
               		if(data) {
               			location.href = loginUrl;
               		} else {
	             		$("div.error").show();               			
               		}
	            }, "json");		
			}
	 	/* ]]> */
	</script>
</body>
</html>
